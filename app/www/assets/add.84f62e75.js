var a=Object.defineProperty,e=Object.defineProperties,t=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,n=(e,t,s)=>t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;import{L as p,p as l,d as c,a7 as i,a8 as d,r as h,j as u,i as m,I as f,ac as w,u as b,o as j,s as y}from"./vendor.1f5c9905.js";import{u as v}from"./use-current-instance.4371f88a.js";l("data-v-3583e60d");const x={class:"project-add"},g={class:"content"},O=m("h2",null,"导入项目",-1),P={class:"fold"},q=[m("span",{class:"iconfont icon-plus-square-fill"},null,-1),y(" 导入该项目 ")];c();var k,I=p((k=((a,e)=>{for(var t in e||(e={}))o.call(e,t)&&n(a,t,e[t]);if(s)for(var t of s(e))r.call(e,t)&&n(a,t,e[t]);return a})({},{name:"ProjectAdd"}),e(k,t({setup:function(a,{expose:e}){const{globalProperties:{$axios:t,$box:s}}=v(),o=i();d();const r=h({path:"/Users/saqqdy/www/saqqdy/gitmars"}),n=async()=>{r.path||alert("请输入项目完整路径"),await new Promise(((a,e)=>{t({url:"/common/project/check",data:{path:r.path}}).then((({data:{code:e,message:t}={}})=>{0!==e?(s(null,{width:"320px",height:"80px",message:t,showHeader:!1,showMax:!1,showBtn:!1}),a(!1)):a(!0)})).finally((()=>{a(!1)}))}))&&t({url:"/common/project/add",type:"post",data:{path:r.path}}).then((()=>{s(null,{width:"320px",height:"80px",message:"操作成功！",showHeader:!1,showMax:!1,showBtn:!1}),o.push("/project/list")}))};return e({form:r,add:n}),(a,e)=>(j(),u("div",x,[m("div",g,[O,m("div",P,[f(m("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=a=>b(r).path=a),placeholder:"请输入项目完整路径"},null,512),[[w,b(r).path,void 0,{trim:!0}]])]),m("div",{class:"btn"},[m("a",{class:"link",href:"javascript:;",onClick:n,type:"button"},q)])])]))}}))));I.__scopeId="data-v-3583e60d";export{I as default};
