!function(){function e(e,t,a,n,r,c,i){try{var o=e[c](i),p=o.value}catch(s){return void a(s)}o.done?t(p):Promise.resolve(p).then(n,r)}function t(t){return function(){var a=this,n=arguments;return new Promise((function(r,c){var i=t.apply(a,n);function o(t){e(i,r,c,o,p,"next",t)}function p(t){e(i,r,c,o,p,"throw",t)}o(void 0)}))}}var a=document.createElement("style");a.innerHTML=".page[data-v-9acffeb6]{display:flex;flex-direction:column;justify-content:stretch;align-items:stretch}.page[data-v-9acffeb6] .v3-collapse{border-top-color:#6a8bad}.page[data-v-9acffeb6] .v3-collapse-item__content{color:#fff}.page[data-v-9acffeb6] .v3-collapse-item__header,.page[data-v-9acffeb6] .v3-collapse-item__wrap{border-bottom-color:#6a8bad;background:none;color:#fff}.page h1[data-v-9acffeb6]{height:32px;padding:16px;line-height:32px;font-size:28px;font-weight:300;background:#344a5f;display:flex;justify-content:space-between;align-items:center}.page .cont[data-v-9acffeb6]{flex:1;display:flex;justify-content:stretch;align-items:stretch}.page .cont .nav[data-v-9acffeb6]{width:300px;overflow-y:auto;background:#2c3e50;height:100%}.page .cont .nav dl[data-v-9acffeb6]{margin-bottom:10px}.page .cont .nav dt[data-v-9acffeb6]{padding:0 16px;height:20px;line-height:20px;font-size:12px;color:#6a8bad}.page .cont .nav dd[data-v-9acffeb6]{height:44px;line-height:44px;padding:0 16px;font-size:14px;display:flex;justify-content:space-between;align-items:center}.page .cont .nav dd[data-v-9acffeb6]:hover{color:#fff;background:rgba(66,185,131,.05)}.page .cont .nav dd.active[data-v-9acffeb6]{color:#42b983;background:rgba(66,185,131,.08)!important}.page .cont .main[data-v-9acffeb6]{flex:1;padding:16px;background:#304457;display:flex;flex-direction:column;justify-content:stretch;align-items:stretch}.page .cont .main h3[data-v-9acffeb6]{font-size:18px;line-height:30px;margin-bottom:16px;font-weight:normal;display:flex;justify-content:space-between;align-items:center}.page .cont .main h3 p[data-v-9acffeb6]{font-size:12px;background:#2c3e50;line-height:18px;padding:8px;border-radius:3px}.page .cont .main .xterm[data-v-9acffeb6]{height:50%;min-height:408px}\n",document.head.appendChild(a),System.register(["./vendor-legacy.c04f0326.js","./index-legacy.ed97d5cf.js","./index-legacy.4c96dad2.js","./use-current-instance-legacy.b53ce941.js"],(function(e){"use strict";var a,n,r,c,i,o,p,s,u,d,f,l,g,m,h,v,x,b,y,j,k,w,_,z,R;return{setters:[function(e){a=e.G,n=e.a7,r=e.a8,c=e.r,i=e.A,o=e.ag,p=e.p,s=e.d,u=e.g,d=e.o,f=e.j,l=e.i,g=e.e,m=e.w,h=e.F,v=e.aa,x=e.q,b=e.s,y=e.t,j=e.k,k=e.h},function(e){w=e.X},function(e){_=e.T,z=e.S},function(e){R=e.u}],execute:function(){var C=e("default",{name:"ControlTasks",components:{Xterm:w},setup:function(){return t(regeneratorRuntime.mark((function e(){var p,s,u,d,f,l,g,m,h,v,x,b;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p=a(_,{}),s=p.getTerminal,u=a(z,{}),d=u.socket,f=R(),l=f.globalProperties.$axios,n(),g=r(),m=c({project:{id:"",name:"",path:""},scripts:[],terminal:{name:""},ready:!1}),i((function(){})),o((function(){})),h=function(){var e=t(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l({url:"/common/project/list",data:{id:g.query.id}});case 2:return e.abrupt("return",e.sent.data);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=t(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l({url:"/cmd/fs/read",data:{path:"".concat(m.project.path,"/package.json")}});case 2:return t=e.sent,a=t.data.scripts,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=function(e){m.terminal&&d.emit(m.terminal.name+"-input"," ".concat(e,"\r"))},b=function(e){x("yarn run ".concat(e))},e.next=14,h();case 14:return m.project=e.sent,e.next=17,v();case 17:return m.scripts=e.sent,e.next=20,l({url:"/cmd/cd",data:{dir:m.project.path}});case 20:return m.terminal=s&&s(m.project.id,m.project.path),m.ready=!0,e.abrupt("return",{data:m,exec:x,run:b,route:g});case 23:case"end":return e.stop()}}),e)})))()}});p("data-v-9acffeb6");var T={key:0,class:"page"},P=b(" tasks "),X=b("创建分支"),q={class:"cont"},S={class:"nav"},A={key:0,class:"bugfix"},E=l("dt",null,"脚本指令",-1),F=b("执行"),G={class:"main"},H=l("span",null,[l("span",{class:"iconfont icon-layout"}),b(" 当前分支： ")],-1);s(),C.render=function(e,t,a,n,r,c){var i=u("v3-button"),o=u("Xterm");return n.data.ready?(d(),f("div",T,[l("h1",null,[P,l("p",null,[g(i,{type:"primary"},{default:m((function(){return[X]})),_:1})])]),l("div",q,[l("div",S,[Object.keys(n.data.scripts).length>0?(d(),f("dl",A,[E,(d(!0),f(h,null,v(n.data.scripts,(function(e,t){return d(),f("dd",{class:x({active:!1}),key:t},[b(y(t)+" ",1),g(i,{type:"primary",size:"mini",onClick:function(e){return n.run(t)},plain:""},{default:m((function(){return[F]})),_:2},1032,["onClick"])])})),128))])):j("",!0)]),l("div",G,[l("h3",null,[H,l("p",null,y(n.data.project.path),1)]),n.data.project?(d(),k(o,{key:0,ref:"xterm",class:"xterm",id:n.data.project.id,path:n.data.project.path},null,8,["id","path"])):j("",!0)])])])):j("",!0)},C.__scopeId="data-v-9acffeb6"}}}))}();
