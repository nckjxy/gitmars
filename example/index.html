<!DOCTYPE html>
<html lang="en-US">
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width,initial-scale=1" />
		<title>示例 | Gitmars</title>
		<meta name="generator" content="VuePress 1.8.2" />
		 <meta name="description" content="移动端UI组件库"> <link rel="preload" href="/gitmars/assets/css/0.styles.950c3caf.css" as="style"><link rel="preload" href="/gitmars/assets/js/app.60a65bd3.js" as="script"><link rel="preload" href="/gitmars/assets/js/2.c28d6e6b.js" as="script"><link rel="preload" href="/gitmars/assets/js/14.8676223c.js" as="script"><link rel="prefetch" href="/gitmars/assets/js/10.9e0535ae.js"><link rel="prefetch" href="/gitmars/assets/js/11.b15f4d42.js"><link rel="prefetch" href="/gitmars/assets/js/12.e0bb1739.js"><link rel="prefetch" href="/gitmars/assets/js/13.76834cd4.js"><link rel="prefetch" href="/gitmars/assets/js/15.6b72b859.js"><link rel="prefetch" href="/gitmars/assets/js/16.b3f574d5.js"><link rel="prefetch" href="/gitmars/assets/js/17.2d2adc4e.js"><link rel="prefetch" href="/gitmars/assets/js/18.2622add9.js"><link rel="prefetch" href="/gitmars/assets/js/19.c84e778b.js"><link rel="prefetch" href="/gitmars/assets/js/20.85146495.js"><link rel="prefetch" href="/gitmars/assets/js/21.081d8e82.js"><link rel="prefetch" href="/gitmars/assets/js/22.6d947393.js"><link rel="prefetch" href="/gitmars/assets/js/23.049b324b.js"><link rel="prefetch" href="/gitmars/assets/js/24.3df6ab14.js"><link rel="prefetch" href="/gitmars/assets/js/25.d19d3bb0.js"><link rel="prefetch" href="/gitmars/assets/js/26.ae6fa4a5.js"><link rel="prefetch" href="/gitmars/assets/js/27.9181477b.js"><link rel="prefetch" href="/gitmars/assets/js/3.54808950.js"><link rel="prefetch" href="/gitmars/assets/js/4.eda153e4.js"><link rel="prefetch" href="/gitmars/assets/js/5.05ef197a.js"><link rel="prefetch" href="/gitmars/assets/js/6.2e53c1c3.js"><link rel="prefetch" href="/gitmars/assets/js/7.c9b1f228.js"><link rel="prefetch" href="/gitmars/assets/js/8.49e23a63.js"><link rel="prefetch" href="/gitmars/assets/js/9.0f554be4.js"> <link rel="stylesheet" href="/gitmars/assets/css/0.styles.950c3caf.css">
	</head>
	<body>
		<div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/gitmars/" class="home-link router-link-active"><!----> <span class="site-name">Gitmars</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/gitmars/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/gitmars/guide/" class="nav-link">
  指南
</a></div><div class="nav-item"><a href="/gitmars/api/" class="nav-link">
  API参考
</a></div><div class="nav-item"><a href="/gitmars/example/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  示例
</a></div><div class="nav-item"><a href="/gitmars/ui/" class="nav-link">
  UI界面
</a></div><div class="nav-item"><a href="/gitmars/go/" class="nav-link">
  Go
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="更多" class="dropdown-title"><span class="title">更多</span> <span class="arrow down"></span></button> <button type="button" aria-label="更多" class="mobile-dropdown-title"><span class="title">更多</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          链接
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://github.com/saqqdy" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://github.com/saqqdy/gitmars#readme" target="_blank" rel="noopener noreferrer" class="nav-link external">
  HomePage
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://github.com/saqqdy/gitmars/issues" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Bugs
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="/gitmars/changelog/" class="nav-link">
  更新日志
</a></li></ul></li><li class="dropdown-item"><h4>
          作者
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="http://www.saqqdy.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  saqqdy
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li></ul></div></div> <a href="https://github.com/saqqdy/gitmars.git" target="_blank" rel="noopener noreferrer" class="repo-link">
    查看源码
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/gitmars/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/gitmars/guide/" class="nav-link">
  指南
</a></div><div class="nav-item"><a href="/gitmars/api/" class="nav-link">
  API参考
</a></div><div class="nav-item"><a href="/gitmars/example/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  示例
</a></div><div class="nav-item"><a href="/gitmars/ui/" class="nav-link">
  UI界面
</a></div><div class="nav-item"><a href="/gitmars/go/" class="nav-link">
  Go
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="更多" class="dropdown-title"><span class="title">更多</span> <span class="arrow down"></span></button> <button type="button" aria-label="更多" class="mobile-dropdown-title"><span class="title">更多</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          链接
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://github.com/saqqdy" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://github.com/saqqdy/gitmars#readme" target="_blank" rel="noopener noreferrer" class="nav-link external">
  HomePage
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://github.com/saqqdy/gitmars/issues" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Bugs
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="/gitmars/changelog/" class="nav-link">
  更新日志
</a></li></ul></li><li class="dropdown-item"><h4>
          作者
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="http://www.saqqdy.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  saqqdy
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li></ul></div></div> <a href="https://github.com/saqqdy/gitmars.git" target="_blank" rel="noopener noreferrer" class="repo-link">
    查看源码
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>示例</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/gitmars/example/#工作流" class="sidebar-link">工作流</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/gitmars/example/#feature" class="sidebar-link">feature</a></li><li class="sidebar-sub-header"><a href="/gitmars/example/#bugfix" class="sidebar-link">bugfix</a></li><li class="sidebar-sub-header"><a href="/gitmars/example/#support" class="sidebar-link">support</a></li><li class="sidebar-sub-header"><a href="/gitmars/example/#publish" class="sidebar-link">publish</a></li></ul></li><li><a href="/gitmars/example/#效率" class="sidebar-link">效率</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/gitmars/example/#merge" class="sidebar-link">merge</a></li><li class="sidebar-sub-header"><a href="/gitmars/example/#copy" class="sidebar-link">copy</a></li><li class="sidebar-sub-header"><a href="/gitmars/example/#build" class="sidebar-link">build</a></li><li class="sidebar-sub-header"><a href="/gitmars/example/#branch" class="sidebar-link">branch</a></li><li class="sidebar-sub-header"><a href="/gitmars/example/#" class="sidebar-link">...</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="示例"><a href="#示例" class="header-anchor">#</a> 示例</h1> <h2 id="工作流"><a href="#工作流" class="header-anchor">#</a> 工作流</h2> <h3 id="feature"><a href="#feature" class="header-anchor">#</a> feature</h3> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>feature 分支用来开发新需求，一般用于相对较大的功能</p></div> <h4 id="创建-feature-分支"><a href="#创建-feature-分支" class="header-anchor">#</a> 创建 feature 分支</h4> <p>例如今天收到开发一个新闻页面的新需求，需求编号为 10088</p> <blockquote><p>这里假设我们设置的 release 分支名称为 release，bugfix 主干分支为 bug，develop 测试分支为 dev</p></blockquote> <ul><li>使用：<code>gitm start feature 10088</code></li> <li>参考：<a href="/gitmars/api/#gitm-start">gitm start</a></li></ul> <div class="custom-block tip"><p class="custom-block-title">其他写法</p> <ul><li>使用简写 <code>gitm st feature 10088</code></li></ul></div> <ul><li>结果：程序会自动拉取远程分支代码，创建一个跟踪 release 分支的新分支<code>feature/10088</code>，创建之后程序会自动切到该新分支</li></ul> <highlight-code lang="vue"><div class="language- extra-class"><pre><code>➜  gitmars git:(feature/10088) gitm start feature 10088
抓取成功
切换分支成功
拉取代码成功
切换分支成功
10088分支创建成功，该分支基于release创建，您当前已经切换到feature/10088
如果需要提测，请执行gitm combine feature 10088
开发完成后，记得执行: gitm end feature 10088
➜  gitmars git:(feature/10088) 
</code></pre></div></highlight-code> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>注意该分支不需要 push 到远程，在本地开发后执行 commit 就行了，不用 push</p></div> <h4 id="合并分支到测试环境"><a href="#合并分支到测试环境" class="header-anchor">#</a> 合并分支到测试环境</h4> <ul><li>使用：<code>gitm combine feature 10088 --dev</code></li> <li>参考：<a href="/gitmars/api/#gitm-combine">gitm combine</a></li></ul> <div class="custom-block tip"><p class="custom-block-title">其他写法</p> <ul><li>使用简写 <code>gitm cb feature 10088 -d</code></li> <li>不写分支名 <code>gitm cb -d</code></li> <li>合并后构建 dev 环境 <code>gitm cb -db</code></li></ul></div> <ul><li>结果：程序会自动拉取 dev 远程分支代码，执行 merge 动作把<code>feature/10088</code>合并到 dev 分支，然后自动执行<code>git push</code>，并且自动切回<code>feature/10088</code>分支</li></ul> <highlight-code lang="vue"><div class="language- extra-class"><pre><code>➜  gitmars git:(feature/10088) gitm cb -d
&lt;!-- 如果本地有需要执行add的文件会出现下面三行提示 start --&gt;
您有未加入版本的文件,
如果需要暂存文件请执行: gitm save --force
恢复时执行：gitm get
&lt;!-- end --&gt;
抓取成功
切换分支成功
拉取代码成功
feature/10088合并到dev成功
推送成功
切换分支成功
➜  gitmars git:(feature/10088) 
</code></pre></div></highlight-code> <h4 id="合并分支到-release-prod-环境"><a href="#合并分支到-release-prod-环境" class="header-anchor">#</a> 合并分支到 release(prod 环境)</h4> <ul><li>使用：<code>gitm combine feature 10088 --prod</code></li> <li>参考：<a href="/gitmars/api/#gitm-combine">gitm combine</a></li></ul> <div class="custom-block tip"><p class="custom-block-title">其他写法</p> <ul><li>使用简写 <code>gitm cb feature 10088 -p</code></li> <li>不写分支名 <code>gitm cb -p</code></li> <li>同时合并 dev 和 release <code>gitm cb -dp</code></li> <li>合并后构建 dev 环境 <code>gitm cb -dpb</code> <strong>注意这里执行-b 并不会构建 prod 环境，因为 feature 功能分支的 prod 环境构建分支是 master，需要执行 publish 才会构建 prod；另外<code>gitm cb -dpb</code>连写时 b 必须在最后，因为-b 是带传参的</strong></li></ul></div> <ul><li>结果：程序会自动拉取 release 远程分支代码，执行 merge 动作把<code>feature/10088</code>合并到 release 分支，然后自动执行<code>git push</code>，并且自动切回<code>feature/10088</code>分支</li></ul> <highlight-code lang="vue"><div class="language- extra-class"><pre><code>➜  gitmars git:(feature/10088) gitm cb -p
抓取成功
切换分支成功
拉取代码成功
feature/10088合并到release成功
推送成功
切换分支成功
➜  gitmars git:(feature/10088) 
</code></pre></div></highlight-code> <h4 id="发版之后结束-feature-分支"><a href="#发版之后结束-feature-分支" class="header-anchor">#</a> 发版之后结束 feature 分支</h4> <ul><li>使用：<code>gitm end feature 10088</code></li> <li>参考：<a href="/gitmars/api/#gitm-end">gitm end</a></li></ul> <div class="custom-block tip"><p class="custom-block-title">其他写法</p> <ul><li>使用简写 <code>gitm ed feature 10088</code></li> <li>不写分支名 <code>gitm ed</code></li></ul></div> <ul><li>结果：程序会把 feature 分支代码合并到 dev 和 release，然后在删除分支，并且自动切回<code>dev</code>分支</li></ul> <highlight-code lang="vue"><div class="language- extra-class"><pre><code>➜  gitmars git:(feature/10088) gitm end
抓取成功
切换分支成功
拉取代码成功
feature/10088合并到dev成功
推送成功
切换分支成功
抓取成功
切换分支成功
拉取代码成功
feature/10088合并到release成功
推送成功
切换分支成功
➜  gitmars git:(dev) 
</code></pre></div></highlight-code> <h3 id="bugfix"><a href="#bugfix" class="header-anchor">#</a> bugfix</h3> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>bugfix 分支用来日常修复 bug，必要时可作为 feature 分支合并到 release</p></div> <h4 id="创建-bugfix-分支"><a href="#创建-bugfix-分支" class="header-anchor">#</a> 创建 bugfix 分支</h4> <p>例如今天需要修复一个弹窗报错问题，需求编号为 10088</p> <ul><li>使用：<code>gitm start bugfix 10088</code></li> <li>参考：<a href="/gitmars/api/#gitm-start">gitm start</a></li></ul> <div class="custom-block tip"><p class="custom-block-title">其他写法</p> <ul><li>使用简写 <code>gitm st bugfix 10088</code></li></ul></div> <ul><li>结果：程序会自动拉取远程分支代码，创建一个跟踪 bug 分支的新分支<code>bugfix/10088</code>，创建之后程序会自动切到该新分支</li></ul> <highlight-code lang="vue"><div class="language- extra-class"><pre><code>➜  gitmars git:(bugfix/10088) gitm start bugfix 10088
抓取成功
切换分支成功
拉取代码成功
切换分支成功
10088分支创建成功，该分支基于bug创建，您当前已经切换到bugfix/10088
如果需要提测，请执行gitm combine bugfix 10088
开发完成后，记得执行: gitm end bugfix 10088
➜  gitmars git:(bugfix/10088) 
</code></pre></div></highlight-code> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>注意该分支不需要 push 到远程，在本地开发后执行 commit 就行了，不用 push</p></div> <h4 id="合并分支到测试环境-2"><a href="#合并分支到测试环境-2" class="header-anchor">#</a> 合并分支到测试环境</h4> <ul><li>使用：<code>gitm combine bugfix 10088 --dev</code></li> <li>参考：<a href="/gitmars/api/#gitm-combine">gitm combine</a></li></ul> <div class="custom-block tip"><p class="custom-block-title">其他写法</p> <ul><li>使用简写 <code>gitm cb bugfix 10088 -d</code></li> <li>不写分支名 <code>gitm cb -d</code></li> <li>合并后构建 dev 环境 <code>gitm cb -db</code></li></ul></div> <ul><li>结果：程序会自动拉取 dev 远程分支代码，执行 merge 动作把<code>bugfix/10088</code>合并到 dev 分支，然后自动执行<code>git push</code>，并且自动切回<code>bugfix/10088</code>分支</li></ul> <highlight-code lang="vue"><div class="language- extra-class"><pre><code>➜  gitmars git:(bugfix/10088) gitm cb -d
&lt;!-- 如果本地有需要执行add的文件会出现下面三行提示 start --&gt;
您有未加入版本的文件,
如果需要暂存文件请执行: gitm save --force
恢复时执行：gitm get
&lt;!-- end --&gt;
抓取成功
切换分支成功
拉取代码成功
bugfix/10088合并到dev成功
推送成功
切换分支成功
➜  gitmars git:(bugfix/10088) 
</code></pre></div></highlight-code> <h4 id="合并分支到-bug-prod-环境"><a href="#合并分支到-bug-prod-环境" class="header-anchor">#</a> 合并分支到 bug(prod 环境)</h4> <ul><li>使用：<code>gitm combine bugfix 10088 --prod</code></li> <li>参考：<a href="/gitmars/api/#gitm-combine">gitm combine</a></li></ul> <div class="custom-block tip"><p class="custom-block-title">其他写法</p> <ul><li>使用简写 <code>gitm cb bugfix 10088 -p</code></li> <li>不写分支名 <code>gitm cb -p</code></li> <li>同时合并 dev 和 bug <code>gitm cb -dp</code></li> <li>合并后构建 dev 和 prod 环境 <code>gitm cb -dpb</code> <strong>注意连写时 b 必须在最后，因为-b 是带传参的</strong></li></ul></div> <ul><li>结果：程序会自动拉取 bug 远程分支代码，执行 merge 动作把<code>bugfix/10088</code>合并到 bug 分支，然后自动执行<code>git push</code>，并且自动切回<code>bugfix/10088</code>分支</li></ul> <highlight-code lang="vue"><div class="language- extra-class"><pre><code>➜  gitmars git:(bugfix/10088) gitm cb -p
抓取成功
切换分支成功
拉取代码成功
bugfix/10088合并到bug成功
推送成功
切换分支成功
➜  gitmars git:(bugfix/10088) 
</code></pre></div></highlight-code> <h4 id="发版之后结束-bugfix-分支"><a href="#发版之后结束-bugfix-分支" class="header-anchor">#</a> 发版之后结束 bugfix 分支</h4> <ul><li>使用：<code>gitm end bugfix 10088</code></li> <li>参考：<a href="/gitmars/api/#gitm-end">gitm end</a></li></ul> <div class="custom-block tip"><p class="custom-block-title">其他写法</p> <ul><li>使用简写 <code>gitm ed bugfix 10088</code></li> <li>不写分支名 <code>gitm ed</code></li></ul></div> <ul><li>结果：程序会把 bugfix 分支代码合并到 dev 和 bug，然后在删除分支，并且自动切回<code>dev</code>分支</li></ul> <highlight-code lang="vue"><div class="language- extra-class"><pre><code>➜  gitmars git:(bugfix/10088) gitm end
抓取成功
切换分支成功
拉取代码成功
bugfix/10088合并到dev成功
推送成功
切换分支成功
抓取成功
切换分支成功
拉取代码成功
bugfix/10088合并到bug成功
推送成功
切换分支成功
➜  gitmars git:(dev) 
</code></pre></div></highlight-code> <h3 id="support"><a href="#support" class="header-anchor">#</a> support</h3> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>support 分支用来做框架或者公共代码调整，从 master 拉取，合并时同时更新到 bug 和 release</p></div> <h4 id="创建-support-分支"><a href="#创建-support-分支" class="header-anchor">#</a> 创建 support 分支</h4> <p>例如今天要在原框架基础上新增对 graphql 的支持</p> <ul><li>使用：<code>gitm start support graphql</code></li> <li>参考：<a href="/gitmars/api/#gitm-start">gitm start</a></li></ul> <div class="custom-block tip"><p class="custom-block-title">其他写法</p> <ul><li>使用简写 <code>gitm st support graphql</code></li></ul></div> <ul><li>结果：程序会自动拉取远程分支代码，创建一个跟踪 master 分支的新分支<code>support/graphql</code>，创建之后程序会自动切到该新分支</li></ul> <highlight-code lang="vue"><div class="language- extra-class"><pre><code>➜  gitmars git:(support/graphql) gitm start support graphql
抓取成功
切换分支成功
拉取代码成功
切换分支成功
graphql分支创建成功，该分支基于master创建，您当前已经切换到support/graphql
如果需要提测，请执行gitm combine support graphql
开发完成后，记得执行: gitm end support graphql
➜  gitmars git:(support/graphql) 
</code></pre></div></highlight-code> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>注意该分支不需要 push 到远程，在本地开发后执行 commit 就行了，不用 push</p></div> <h4 id="合并分支到测试环境-3"><a href="#合并分支到测试环境-3" class="header-anchor">#</a> 合并分支到测试环境</h4> <ul><li>使用：<code>gitm combine support graphql --dev</code></li> <li>参考：<a href="/gitmars/api/#gitm-combine">gitm combine</a></li></ul> <div class="custom-block tip"><p class="custom-block-title">其他写法</p> <ul><li>使用简写 <code>gitm cb support graphql -d</code></li> <li>不写分支名 <code>gitm cb -d</code></li> <li>合并后构建 dev 环境 <code>gitm cb -db</code></li></ul></div> <ul><li>结果：程序会自动拉取 dev 远程分支代码，执行 merge 动作把<code>support/graphql</code>合并到 dev 分支，然后自动执行<code>git push</code>，并且自动切回<code>support/graphql</code>分支</li></ul> <highlight-code lang="vue"><div class="language- extra-class"><pre><code>➜  gitmars git:(support/graphql) gitm cb -d
&lt;!-- 如果本地有需要执行add的文件会出现下面三行提示 start --&gt;
您有未加入版本的文件,
如果需要暂存文件请执行: gitm save --force
恢复时执行：gitm get
&lt;!-- end --&gt;
抓取成功
切换分支成功
拉取代码成功
support/graphql合并到dev成功
推送成功
切换分支成功
➜  gitmars git:(support/graphql) 
</code></pre></div></highlight-code> <h4 id="合并分支到-bug-和-release-prod-环境"><a href="#合并分支到-bug-和-release-prod-环境" class="header-anchor">#</a> 合并分支到 bug 和 release(prod 环境)</h4> <ul><li>使用：<code>gitm combine support graphql --prod</code></li> <li>参考：<a href="/gitmars/api/#gitm-combine">gitm combine</a></li></ul> <div class="custom-block tip"><p class="custom-block-title">其他写法</p> <ul><li>使用简写 <code>gitm cb support graphql -p</code></li> <li>不写分支名 <code>gitm cb -p</code></li> <li>同时合并 dev 和 bug 和 release <code>gitm cb -dp</code></li> <li>合并后构建 dev 和 prod 环境 <code>gitm cb -dpb</code> <strong>注意这里执行-b 并不会构建 prod 环境，因为 feature 功能分支的 prod 环境构建分支是 master，需要执行 publish 才会构建 prod；另外<code>gitm cb -dpb</code>连写时 b 必须在最后，因为-b 是带传参的</strong></li></ul></div> <ul><li>结果：程序会自动拉取 bug 和 release 远程分支代码，执行 merge 动作把<code>support/graphql</code>合并到 bug 和 release 分支，然后自动执行<code>git push</code>，并且自动切回<code>support/graphql</code>分支</li></ul> <highlight-code lang="vue"><div class="language- extra-class"><pre><code>➜  gitmars git:(support/graphql) gitm cb -p
抓取成功
切换分支成功
拉取代码成功
support/graphql合并到bug成功
推送成功
切换分支成功
拉取代码成功
support/graphql合并到release成功
推送成功
切换分支成功
➜  gitmars git:(support/graphql) 
</code></pre></div></highlight-code> <h4 id="发版之后结束-support-分支"><a href="#发版之后结束-support-分支" class="header-anchor">#</a> 发版之后结束 support 分支</h4> <ul><li>使用：<code>gitm end support graphql</code></li> <li>参考：<a href="/gitmars/api/#gitm-end">gitm end</a></li></ul> <div class="custom-block tip"><p class="custom-block-title">其他写法</p> <ul><li>使用简写 <code>gitm ed support graphql</code></li> <li>不写分支名 <code>gitm ed</code></li></ul></div> <ul><li>结果：程序会把 support 分支代码合并到 dev 和 bug 和 release，然后在删除分支，并且自动切回<code>dev</code>分支</li></ul> <highlight-code lang="vue"><div class="language- extra-class"><pre><code>➜  gitmars git:(support/graphql) gitm end
抓取成功
切换分支成功
拉取代码成功
support/graphql合并到dev成功
推送成功
切换分支成功
抓取成功
切换分支成功
拉取代码成功
support/graphql合并到bug成功
推送成功
切换分支成功
拉取代码成功
support/graphql合并到release成功
推送成功
切换分支成功
➜  gitmars git:(dev) 
</code></pre></div></highlight-code> <h3 id="publish"><a href="#publish" class="header-anchor">#</a> publish</h3> <h4 id="发布-feature"><a href="#发布-feature" class="header-anchor">#</a> 发布 feature</h4> <p>feature 分支基于 release 创建，所以发布的时候会吧 release 合并到 master</p> <ul><li>使用：<code>gitm admin publish release</code></li> <li>参考：<a href="/gitmars/api/#gitm-admin-publish">gitm admin publish</a></li></ul> <div class="custom-block tip"><p class="custom-block-title">其他写法</p> <ul><li>发布后构建 prod <code>gitm admin publich release -b</code></li></ul></div> <ul><li>结果：程序会自动拉取远程分支代码，合并 release 分支到 master，合并之后程序会自动切回该分支</li></ul> <highlight-code lang="vue"><div class="language- extra-class"><pre><code>➜  gitmars git:(feature/10088) gitm admin publich release
抓取成功
切换分支成功
拉取代码成功
release合并到master成功
推送成功
切换分支成功
➜  gitmars git:(feature/10088) 
</code></pre></div></highlight-code> <h4 id="发布-bugfix"><a href="#发布-bugfix" class="header-anchor">#</a> 发布 bugfix</h4> <p>bugfix 分支基于 bug 创建，所以发布的时候会吧 bug 合并到 master</p> <ul><li>使用：<code>gitm admin publish bugfix</code></li> <li>参考：<a href="/gitmars/api/#gitm-admin-publish">gitm admin publish</a></li></ul> <div class="custom-block tip"><p class="custom-block-title">其他写法</p> <ul><li>发布后构建 prod <code>gitm admin publich bugfix -b</code></li></ul></div> <ul><li>结果：程序会自动拉取远程分支代码，合并 bug 分支到 master，合并之后程序会自动切回该分支</li></ul> <highlight-code lang="vue"><div class="language- extra-class"><pre><code>➜  gitmars git:(bugfix/10088) gitm admin publich bugfix
抓取成功
切换分支成功
拉取代码成功
bug合并到master成功
推送成功
切换分支成功
➜  gitmars git:(bugfix/10088) 
</code></pre></div></highlight-code> <h4 id="发布-support"><a href="#发布-support" class="header-anchor">#</a> 发布 support</h4> <ul><li>使用：<code>gitm admin publich support</code></li> <li>参考：<a href="/gitmars/api/#gitm-admin-publish">gitm admin publish</a></li></ul> <div class="custom-block tip"><p class="custom-block-title">其他写法</p> <ul><li>发布后构建 prod <code>gitm admin publich support -b</code></li></ul></div> <ul><li>结果：程序会自动拉取远程分支代码，合并 support/graphql 分支到 master，合并之后程序会自动切回该分支</li></ul> <highlight-code lang="vue"><div class="language- extra-class"><pre><code>➜  gitmars git:(support/graphql) gitm admin publich support
抓取成功
切换分支成功
拉取代码成功
support/graphql合并到master成功
推送成功
切换分支成功
➜  gitmars git:(support/graphql) 
</code></pre></div></highlight-code> <h2 id="效率"><a href="#效率" class="header-anchor">#</a> 效率</h2> <h3 id="merge"><a href="#merge" class="header-anchor">#</a> merge</h3> <h4 id="合并分支-no-ff"><a href="#合并分支-no-ff" class="header-anchor">#</a> 合并分支（--no-ff）</h4> <ul><li>使用：<code>gitm merge feature/10088</code></li> <li>参考：<a href="/gitmars/api/#gitm-merge">gitm merge</a></li></ul> <div class="custom-block tip"><p class="custom-block-title">其他写法</p> <ul><li>使用简写 <code>gitm mg feature/10088</code></li></ul></div> <ul><li>结果：</li></ul> <highlight-code lang="vue"><div class="language- extra-class"><pre><code>➜  gitmars git:(support/graphql) gitm merge feature/10088
...
➜  gitmars git:(support/graphql) 
</code></pre></div></highlight-code> <h3 id="copy"><a href="#copy" class="header-anchor">#</a> copy</h3> <h4 id="复制-commit-记录"><a href="#复制-commit-记录" class="header-anchor">#</a> 复制 commit 记录</h4> <ul><li>参考：<a href="/gitmars/api/#gitm-copy">gitm copy</a></li> <li>结果：</li></ul> <h3 id="build"><a href="#build" class="header-anchor">#</a> build</h3> <h4 id="构建项目"><a href="#构建项目" class="header-anchor">#</a> 构建项目</h4> <ul><li>参考：<a href="/gitmars/api/#gitm-build">gitm build</a></li> <li>结果：</li></ul> <h3 id="branch"><a href="#branch" class="header-anchor">#</a> branch</h3> <h4 id="分支操作"><a href="#分支操作" class="header-anchor">#</a> 分支操作</h4> <ul><li>参考：<a href="/gitmars/api/#gitm-branch">gitm branch</a></li> <li>结果：</li></ul> <h3 id=""><a href="#" class="header-anchor">#</a> ...</h3></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/saqqdy/gitmars/edit/dev/docs/example/index.md" target="_blank" rel="noopener noreferrer">帮助我们改善此页面！</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">最近更新:</span> <span class="time">3/27/2021, 12:58:04 PM</span></div></footer> <!----> </main></div><div class="global-ui"><!----></div></div>
		<script src="/gitmars/assets/js/app.60a65bd3.js" defer></script><script src="/gitmars/assets/js/2.c28d6e6b.js" defer></script><script src="/gitmars/assets/js/14.8676223c.js" defer></script>
	</body>
</html>
