"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),require("fs"),require("shelljs");var e=require("colors");function r(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}require("slash"),require("cosmiconfig");var t=r(e);exports.default=(e,{options:r,validator:a,transform:u},i)=>{if("checkbox"===i){if(!r.length)return null;let t={type:i,message:"请选择",name:e,choices:[],validate:e=>{if(a){let t=!0;return a(e,r,(e=>{e&&(t=e.message)})),t}return!0}};return r.forEach((e=>{t.choices.push({name:e.description,value:e.long,checked:e.recommend})})),t}if("input"===i){let e=[];return r.forEach((({validator:r,transformer:u,...i})=>{r&&(a=r);let l={type:"input",name:i.name,message:`${i.description||"请输入参数"+i.name+"的值"}${i.required?"":(n="(可不填"+(["",void 0].includes(i.defaultValue)?"":'，默认"'+i.defaultValue+'"')+")",t.default.yellow(n))}`,transformer:(e,r,t)=>u?u instanceof Function?u(e,r,t,i):void 0:e,validate:e=>{let r=!0;return!e&&i.required&&(r="请填写"+i.description),a&&!0===r&&a(e,i,(e=>{e&&(r=e.message)})),r}};var n;""!==i.defaultValue&&(l.defaultValue=i.defaultValue),e.push(l)})),e}};
