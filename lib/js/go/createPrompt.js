"use strict";const{warning:e}=require("../index");module.exports=(t,{options:r,validator:a,transform:n},i)=>{if("checkbox"===i){if(!r.length)return null;let e={type:i,message:"请选择",name:t,choices:[],validate:e=>{if(a){let t=!0;return a(e,r,(e=>{e&&(t=e.message)})),t}return!0}};return r.forEach((t=>{e.choices.push({name:t.description,value:t.long,checked:t.recommend})})),e}if("input"===i){let t=[];return r.forEach((({validator:r,transformer:n,...i})=>{r&&(a=r);let u={type:"input",name:i.name,message:`${i.description||"请输入参数"+i.name+"的值"}${i.required?"":e("(可不填"+(["",void 0].includes(i.defaultValue)?"":'，默认"'+i.defaultValue+'"')+")")}`,transformer:(e,t,r)=>n?n instanceof Function?n(e,t,r,i):void 0:e,validate:e=>{let t=!0;return!e&&i.required&&(t="请填写"+i.description),a&&!0===t&&a(e,i,(e=>{e&&(t=e.message)})),t}};""!==i.defaultValue&&(u.defaultValue=i.defaultValue),t.push(u)})),t}};
