"use strict";const{warning:e}=require("../index");module.exports=(t,{options:a,validator:n,transform:r},u)=>{if("checkbox"===u){if(!a.length)return null;const e={type:u,message:"请选择",name:t,choices:[],validate:e=>{if(n){let t=!0;return n(e,a,(e=>{e&&(t=e.message)})),t}return!0}};return a.forEach((t=>{e.choices.push({name:t.description||"",value:t.long,checked:t.recommend||!1})})),e}if("input"===u){const t=[];return a.forEach((({validator:a,transformer:r,...u})=>{a&&(n=a);const i={type:"input",name:u.name,message:`${u.description||"请输入参数"+u.name+"的值"}${u.required?"":e("(可不填"+("defaultValue"in u&&""!==u.defaultValue?'，默认"'+u.defaultValue+'"':"")+")")}`,transformer:(e,t,a)=>r?r instanceof Function?r(e,t,a,u):void 0:e,validate:e=>{let t=!0;return!e&&u.required&&(t="请填写"+u.description),n&&!0===t&&n(e,u,(e=>{e&&(t=e.message)})),t}};"defaultValue"in u&&""!==u.defaultValue&&(i.defaultValue=u.defaultValue),t.push(i)})),t}};
