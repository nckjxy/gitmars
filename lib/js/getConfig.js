"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("fs"),t=require("shelljs"),s=require("slash"),o=require("cosmiconfig");function i(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var r=i(e),a=i(t),c=i(s);const l={master:"master",develop:"dev",release:"release",bugfix:"bug",support:"support",user:"",email:"",msgTemplate:"${message}；项目：${project}；路径：${pwd}",msgUrl:"",apolloConfig:"",hooks:"",api:"",gitHost:"",gitID:""};exports.default=function(e,t="gitmars"){let s;if(!e){let{root:t}=function(e=process.cwd()){const t=a.default.exec("git rev-parse --show-toplevel --show-prefix --git-common-dir --absolute-git-dir --show-cdup",{silent:!0}).stdout.replace(/[\s]*$/g,""),[s,o,i,r,l=""]=t.split("\n").map((e=>e.trim())).map(c.default);return{prefix:o||".",gitCommonDir:i,root:s,gitDir:r,gitHookDir:r+"/hooks",cdup:l}}();try{e=t+"/gitmarsconfig.json",s=r.default.statSync(e)}catch(s){e=t}}const i={skipCI:!0},n=o.cosmiconfigSync(t);if(s||(s=r.default.statSync(e)),s.isDirectory()){const{config:t={},filepath:s=""}=n.search(e)||{};return Object.assign({},l,i,t,{filepath:s})}{const{config:t={},filepath:s=""}=n.load(e)||{};return Object.assign({},l,i,t,{filepath:s})}};
