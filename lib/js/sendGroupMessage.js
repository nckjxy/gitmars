"use strict";"undefined"!=typeof require&&require;var t=(t,e,i)=>new Promise(((r,o)=>{var n=t=>{try{c(i.next(t))}catch(t){o(t)}},l=t=>{try{c(i.throw(t))}catch(t){o(t)}},c=t=>t.done?r(t.value):Promise.resolve(t.value).then(n,l);c((i=i.apply(t,e)).next())}));const e=require("shelljs"),i=require("./apollo"),{error:r}=require("./index");module.exports=function(o){return t(this,arguments,(function*(t,o={}){const n=yield i(),{silent:l=!0,url:c}=o;let u=[];n.gitNotificationGroupUrl||c?(c?u=[c]:n.gitNotificationGroupUrl&&(u="string"==typeof n.gitNotificationGroupUrl?[n.gitNotificationGroupUrl]:n.gitNotificationGroupUrl),t=t.replace(/\s/g,""),u.forEach((()=>{e.exec(`curl -i -H "Content-Type: application/json" -X POST -d "{\\"content\\":\\"${t}\\"}" "${c||n.gitNotificationGroupUrl}"`,{silent:l})}))):e.echo(r("没有配置群消息推送地址"))}))};
