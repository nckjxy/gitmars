!function(){function t(t,e,n,a,r,i,c){try{var o=t[i](c),d=o.value}catch(p){return void n(p)}o.done?e(d):Promise.resolve(d).then(a,r)}function e(e){return function(){var n=this,a=arguments;return new Promise((function(r,i){var c=e.apply(n,a);function o(e){t(c,r,i,o,d,"next",e)}function d(e){t(c,r,i,o,d,"throw",e)}o(void 0)}))}}var n=document.createElement("style");n.innerHTML=".page[data-v-60f1990d]{display:flex;flex-direction:column;justify-content:stretch;align-items:stretch}.page[data-v-60f1990d] .v3-collapse{border-top-color:#6a8bad}.page[data-v-60f1990d] .v3-collapse-item__content{color:#fff}.page[data-v-60f1990d] .v3-collapse-item__header,.page[data-v-60f1990d] .v3-collapse-item__wrap{border-bottom-color:#6a8bad;background:none;color:#fff}.page h1[data-v-60f1990d]{height:32px;padding:16px;line-height:32px;font-size:28px;font-weight:300;background:#344a5f;display:flex;justify-content:space-between;align-items:center}.page .cont[data-v-60f1990d]{flex:1;display:flex;justify-content:stretch;align-items:stretch}.page .cont .nav[data-v-60f1990d]{width:300px;overflow-y:auto;background:#2c3e50;height:100%}.page .cont .nav dl[data-v-60f1990d]{margin-bottom:10px}.page .cont .nav dt[data-v-60f1990d]{padding:0 16px;height:20px;line-height:20px;font-size:12px;color:#6a8bad}.page .cont .nav dd[data-v-60f1990d]{height:44px;line-height:44px;padding:0 16px;font-size:14px;display:flex;justify-content:space-between;align-items:center}.page .cont .nav dd[data-v-60f1990d]:hover{color:#fff;background:rgba(66,185,131,.05)}.page .cont .nav dd.active[data-v-60f1990d]{color:#42b983;background:rgba(66,185,131,.08)!important}.page .cont .main[data-v-60f1990d]{flex:1;padding:16px;background:#304457;display:flex;flex-direction:column;justify-content:stretch;align-items:stretch}.page .cont .main h3[data-v-60f1990d]{font-size:18px;line-height:30px;margin-bottom:16px;font-weight:normal;display:flex;justify-content:space-between;align-items:center}.page .cont .main h3 p[data-v-60f1990d]{font-size:12px;background:#2c3e50;line-height:18px;padding:8px;border-radius:3px}.page .cont .main .xterm[data-v-60f1990d]{height:50%;min-height:408px}\n",document.head.appendChild(n),System.register(["./vendor-legacy.ef7e4f2e.js","./index-legacy.90dc6e96.js","./index-legacy.cb231da0.js","./use-current-instance-legacy.467d9180.js"],(function(t){"use strict";var n,a,r,i,c,o,d,p,s,u,l,f,g,m,h,v,x,y,b,j,k,w,_,z,R;return{setters:[function(t){n=t.G,a=t.a7,r=t.a8,i=t.r,c=t.A,o=t.ag,d=t.p,p=t.d,s=t.g,u=t.o,l=t.j,f=t.i,g=t.e,m=t.w,h=t.F,v=t.aa,x=t.q,y=t.s,b=t.t,j=t.k,k=t.h},function(t){w=t.X},function(t){_=t.T,z=t.S},function(t){R=t.u}],execute:function(){var C=t("default",{name:"ControlTasks",components:{Xterm:w},setup:function(){return e(regeneratorRuntime.mark((function t(){var d,p,s,u,l,f,g,m,h,v,x,y;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return d=n(_,{}),p=d.getTerminal,s=n(z,{}),u=s.socket,l=R(),f=l.globalProperties.$axios,a(),g=r(),m=i({project:{id:"",name:"",path:""},scripts:[],terminal:{name:""},ready:!1}),c((function(){})),o((function(){})),h=function(){var t=e(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f({url:"/common/project/list",data:{id:g.query.id}});case 2:return t.abrupt("return",t.sent.data);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),v=function(){var t=e(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f({url:"/cmd/fs/read",data:{path:"".concat(m.project.path,"/package.json")}});case 2:return e=t.sent,n=e.data.scripts,t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),x=function(t){m.terminal&&u.emit(m.terminal.name+"-input"," ".concat(t,"\r"))},y=function(t){x("yarn run ".concat(t))},t.next=14,h();case 14:return m.project=t.sent,t.next=17,v();case 17:return m.scripts=t.sent,t.next=20,f({url:"/cmd/cd",data:{dir:m.project.path}});case 20:return m.terminal=p&&p(m.project.id,m.project.path),m.ready=!0,t.abrupt("return",{data:m,exec:x,run:y,route:g});case 23:case"end":return t.stop()}}),t)})))()}});d("data-v-60f1990d");var T={key:0,class:"page"},P=y(" tasks "),X=y("创建分支"),q={class:"cont"},S={class:"nav"},A={key:0,class:"bugfix"},E=f("dt",null,"脚本指令",-1),F=y("执行"),G={class:"main"},H=f("span",null,[f("i",{class:"iconfont icon-layout"}),y(" 当前分支： ")],-1);p(),C.render=function(t,e,n,a,r,i){var c=s("v3-button"),o=s("Xterm");return a.data.ready?(u(),l("div",T,[f("h1",null,[P,f("p",null,[g(c,{type:"primary"},{default:m((function(){return[X]})),_:1})])]),f("div",q,[f("div",S,[Object.keys(a.data.scripts).length>0?(u(),l("dl",A,[E,(u(!0),l(h,null,v(a.data.scripts,(function(t,e){return u(),l("dd",{class:x({active:!1}),key:e},[y(b(e)+" ",1),g(c,{type:"primary",size:"mini",onClick:function(t){return a.run(e)},plain:""},{default:m((function(){return[F]})),_:2},1032,["onClick"])])})),128))])):j("",!0)]),f("div",G,[f("h3",null,[H,f("p",null,b(a.data.project.path),1)]),a.data.project?(u(),k(o,{key:0,ref:"xterm",class:"xterm",id:a.data.project.id,path:a.data.project.path},null,8,["id","path"])):j("",!0)])])])):j("",!0)},C.__scopeId="data-v-60f1990d"}}}))}();
